<html lang="en">
  <%- include("./partials/head.ejs") %>

  <body>
    <%- include("./partials/nav.ejs") %>
    <div class="recipe content">
      <span class="recipe-header">My Recipes</span>
      <span class="recipe-header">Categories</span>
      <% if (recipe.length > 0) { %> <% recipe.forEach(recipe => { %>
        <a class="single" href="/recipes/<%= recipe._id %>">
          <h3 class="recipe-name"><%= recipe.name %>            
          </h3>
        <h4 class="recipe-date">Created: <%= recipe.createdAt.toLocaleString() %> </h4>    
        <h4 class="recipe-date">Last Edit: <%= recipe.updatedAt.toLocaleString() %></h4>    
        <ul>
          <% if (recipe.ingredients.length > 0) { %> <% recipe.ingredients.forEach(ingredient => { %>
            <% if (ingredient) { %>            
              <li><%=ingredient %></li>
              <%}  %>    
              <% }) %> <% } else { %>
                <p>Add some Ingredients</p>
                <% } %>      
              </ul>    
        <p class="recipe-directions"><h2>Directions:</h2> <%= recipe.directions %></p>
      </a>
      <% }) %> <% } else { %>
      <p>There are no recipes to display...</p>
      <% } %>
    </div>
    <%- include("./partials/footer.ejs") %>
  </body>
</html>
